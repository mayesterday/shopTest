(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ccf1a"],{"4fa3":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("panel",[r("categorys-click-edit",{ref:"categorysClickEdit",on:{reload:e.fetchCategory}}),r("data-table-local",{ref:"categorys",attrs:{columns:e._columns,items:e.categorys,"view-able":!1},on:{clickEdit:e.clickEdit,clickNew:e.clickNew,clickDelete:e.clickDelete}})],1)},o=[],n=r("5530"),c=r("1da1"),i=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-modal",{ref:"formmodal",attrs:{title:e._title+" Category"},on:{save:e.handleSubmit,cancel:e.cancel}},[r("b-row",[r("form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"`required`"}],attrs:{label:"category name","data-vv-as":"category name",col:10},model:{value:e.form.category_name,callback:function(t){e.$set(e.form,"category_name",t)},expression:"form.category_name"}}),r("b-form-group",{attrs:{label:"สถานะโปรโมท"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.ariaDescribedby;return[r("b-form-radio",{attrs:{"aria-describedby":a,name:"some-radios",value:!0},model:{value:e.form.promote,callback:function(t){e.$set(e.form,"promote",t)},expression:"form.promote"}},[e._v("เปิด")]),r("b-form-radio",{attrs:{"aria-describedby":a,name:"some-radios",value:!1},model:{value:e.form.promote,callback:function(t){e.$set(e.form,"promote",t)},expression:"form.promote"}},[e._v("ปิด")])]}}])})],1)],1)}),s=[],l=(r("4160"),r("159b"),r("b64b"),{computed:{_title:function(){return this.form.id?"แก้ไข":"เพิ่ม"}},data:function(){return{form:{}}},methods:{show:function(e){this.clearForm(),this.form=e,this["switch"]("show")},handleSubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$validator.validateAll();case 3:if(r=t.sent,r){t.next=7;break}return e.alertValidate(),t.abrupt("return","");case 7:return t.next=9,e.api.createOrUpdate("/api/admin/category",e.form,"category");case 9:e.$emit("reload"),e["switch"]("hide"),t.next=17;break;case 13:return t.prev=13,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return","");case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},cancel:function(){this.clearForm()},clearForm:function(){var e=this.form;Object.keys(e).forEach((function(t){return[e[t]=""]})),this["switch"]("hide")},switch:function(e){"show"===e?this.$refs.formmodal.show():this.$refs.formmodal.hide()}}}),u=l,m=r("2877"),f=Object(m["a"])(u,i,s,!1,null,null,null),d=f.exports,p={components:{categorysClickEdit:d},data:function(){return{categorys:""}},created:function(){this.fetchCategory()},computed:{_columns:function(){return[{label:"category name",field:"category_name",filterOptions:{enabled:!0,placeholder:"Search category"}},{label:"status promote",field:"promote",filterOptions:{enabled:!0,placeholder:"Search promote"}}]}},methods:{fetchCategory:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.api.get("/api/admin/category");case 3:e.categorys=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return","");case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},clickEdit:function(e){var t=Object(n["a"])({},e);this.$refs.categorysClickEdit.show(t)},clickNew:function(){var e={id:"",category_name:"",promote:!1};this.$refs.categorysClickEdit.show(e)},clickDelete:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.api.del("/api/admin/category/".concat(e.id),"",!0);case 2:t.fetchCategory();case 3:case"end":return r.stop()}}),r)})))()}}},h=p,b=Object(m["a"])(h,a,o,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0ccf1a.a40da2e9.js.map